<nz-spin [nzSpinning]="spinnerState?.isFreezed" [nzTip]="spinnerState?.message" nzSize="large">
    <nz-layout>
        <nz-sider [nzTheme]="'light'" nzCollapsible [(nzCollapsed)]="isCollapsed" [nzWidth]="250">
            <div class="brand">
                <img src="./assets/asteria-logo-32.png" nz-tooltip nzTitle="ATLAS">
                <div *ngIf="!isCollapsed">ATLAS</div>
            </div>
            <ul nz-menu [nzTheme]="'light'" [nzMode]="'inline'" [nzInlineCollapsed]="isCollapsed">
                <li nz-submenu>
                    <span title nz-tooltip nzTitle="Jobs" routerLink="/job">
                        <i nz-icon nzType="file-sync" nzTheme="outline"></i> <span class="nav-text">Jobs</span>
                    </span>
                    <ul>
                        <li nz-menu-item>
                            <i nz-icon type="bars"></i> Job Events
                        </li>
                        <li nz-menu-item routerLink="/job/jobs">
                            <i nz-icon type="table"></i> All Jobs
                        </li>
                        <li nz-menu-item >
                            <i nz-icon type="edit"></i> Job Editor
                        </li>
                    </ul>
                </li>
                <li nz-submenu>
                    <span title nz-tooltip nzTitle="Processes" routerLink="/process">
                        <i nz-icon nzType="apartment" nzTheme="outline"></i> <span class="nav-text">Processes</span>
                    </span>
                    <ul>
                        <li nz-menu-item routerLink="/process/templates">
                            <i nz-icon type="code"></i> Process Templates
                        </li>
                        <li nz-menu-item routerLink="/edit/template">
                            <i nz-icon type="edit"></i> Template Editor
                        </li>
                    </ul>
                </li>
                <li nz-submenu>
                    <span title nz-tooltip nzTitle="Data">
                        <i nz-icon type="hdd"></i> <span class="nav-text">Data</span>
                    </span>
                </li>
                <li nz-submenu>
                    <span title nz-tooltip nzTitle="Workspace" routerLink="/workspace">
                        <i nz-icon nzType="cloud"></i> <span class="nav-text">Workspace</span>
                    </span>
                    <ul>
                        <li nz-menu-item routerLink="/workspace/explorer">
                            <i nz-icon nzType="folder" nzTheme="outline"></i> <span class="nav-text">File Explorer</span>
                        </li>
                        <li nz-menu-item routerLink="/workspace/preview">
                            <i nz-icon nzType="eye" nzTheme="outline"></i> <span class="nav-text">File Preview</span>
                        </li>
                    </ul>
                </li>
                <li nz-menu-item>
                    <span title nz-tooltip nzTitle="Vizualisations">
                        <i nz-icon type="dashboard"></i><span class="nav-text">Vizualisations</span>
                    </span>
                </li>
                <li nz-menu-item>
                    <span title nz-tooltip nzTitle="Settings">
                        <i nz-icon type="setting"></i><span class="nav-text">Settings</span>
                    </span>
                </li>
                <li nz-menu-item>
                    <span title nz-tooltip nzTitle="Help">
                        <i nz-icon type="question-circle"></i><span class="nav-text">Help</span>
                    </span>
                </li>
            </ul>
        </nz-sider>
        <nz-layout style="background: #fff;">
            <nz-header style="background: #fff; padding:0; margin-right:1rem;">
                <div nz-row>
                    <div nz-col [nzSpan]="23">
                        <i class="trigger" nz-icon [type]="isCollapsed ? 'menu-unfold' : 'menu-fold'" 
                           (click)="isCollapsed = !isCollapsed"></i>
                        <nz-breadcrumb *ngIf="breadcrumbService" style="display:inline-block;margin-left:1rem;">
                            <nz-breadcrumb-item *ngFor="let item of breadcrumbService.items">
                                <a *ngIf="item.route" [routerLink]="item.route">{{ item.label }}</a>
                                <span *ngIf="!item.route">{{ item.label }}</span>
                            </nz-breadcrumb-item>
                        </nz-breadcrumb>
                    </div>
                    <div nz-col [nzSpan]="1">
                        <nz-badge [nzCount]="clipboardService!.size" [nzStyle]="{ backgroundColor: '#52c41a' }">
                            <button nz-button (click)="clipboardService.open()"
                                    title nz-tooltip nzTitle="Open clipboard">
                                <i nz-icon nzType="inbox" nzTheme="outline"></i>
                            </button>
                        </nz-badge>
                    </div>
                </div>
            </nz-header>
            <nz-content style="margin:0 1.2rem; background: #fff;">
                <div style="background: #fff;">
                    <router-outlet></router-outlet>
                </div>
            </nz-content>
            <nz-footer style="text-align: center; background: #fff;">
                ONSOFT Systems Â©2019 <a href="https://github.com/asteria-project">Propulsed By Asteria</a>
            </nz-footer>
        </nz-layout>
    </nz-layout>
    <ng-template #trigger>
        <i nz-tooltip nzTitle="Show/Hide Menu" nz-icon type="up"></i>
    </ng-template>
</nz-spin>
<clipboard></clipboard>